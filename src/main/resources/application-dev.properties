spring.application.name=cookingfactory
## DB CONNECTION (set MYSQL_PASSWORD and JWT_SECRET_KEY via environment) ##
spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DB:cookingfactorydb}?useSSL=true&serverTimezone=UTC
spring.datasource.username=${MYSQL_USER:user_chef}
spring.datasource.password=${MYSQL_PASSWORD:C00k1ngF@}

spring.jpa.properties.hibernate.show_sql=true
spring.jpa.hibernate.ddl-auto=update
#
# JWT: set JWT_SECRET_KEY (base64-encoded, min 256 bits for HS256). JWT_EXPIRATION_MS optional (default: 3h).
app.security.secret-key=${JWT_SECRET_KEY:ID73pTG+rEofVHspauR5IYepHirtEENQzbzKfCr3HxQG/OVtSzRMW8igN0oTEYUD}
app.security.jwt-expiration=${JWT_EXPIRATION_MS:10800000}

# UNCOMMENT WHEN FIRST UPDATE, COMMENT WHEN CREATE
#spring.sql.init.mode=always
#spring.sql.init.data-locations=classpath:sql/users.sql,classpath:sql/contact_details.sql,classpath:sql/instructors.sql,classpath:sql/courses.sql,classpath:sql/students.sql,classpath:sql/students_courses.sql

spring.sql.init.encoding=UTF-8
spring.sql.init.platform=mysql

# Suppresses noisy Spring Security debug logs during startup (sets log level to ERROR for this class).
# This class logs verbose messages (e.g., Configuring UserDetailsService...) at INFO level by default.
# Setting it to ERROR reduces clutter in logs.
logging.level.org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer=ERROR

